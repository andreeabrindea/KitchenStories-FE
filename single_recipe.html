<!DOCTYPE html>
<html lang="en">
<head>
	<title>Kitchen Stories</title>
	<link rel="stylesheet" type="text/css" href="style_single.css">
	<meta charset="UTF-8">
</head>
<body>
	<div class="homepage">
		<div class="topbar">
			<a href="home.html"><img src="carlos-fernandez-w3awZjfVa6w-unsplash.jpg" alt="TopBar Photo"></a>
			<div class="links">
				<a href="home.html">Home</a>
				<a href="add_recipe_form.html">Add Recipe</a>
        <a href="login_page.html">Login</a>
        <a href="register_page.html">Sign up</a>
			</div>
		</div>

        <div class="recipe-previews" id="recipes-container">
          <div class="recipe-preview">
            <img src="toa-heftiba-oQvESMKUkzM-unsplash.jpg" alt="recipe">
                <h3>Recipe 1</h3>
            </div>
            </div>

    </div>
    <script>
        // Get the recipe ID from the URL
const urlParams = new URLSearchParams(window.location.search);
const recipeId = urlParams.get('id');


// Send a GET request to the API endpoint with the recipe ID as a parameter
fetch(`https://kitchenstoriesbe.fly.dev/api/getRecipes/${recipeId}`)
.then(response => response.json())
		.then(recipes => {
		  // Generate HTML for each recipe preview
		  const recipePreviewsHTML = recipes.map(recipe => `
			<div class="recipe-preview">
        <img src="toa-heftiba-oQvESMKUkzM-unsplash.jpg" alt="recipe">
			  <h3>${recipe.name}</h3>
			  <p>Posted by ${recipe.user_name}</p>
			  <p>Ingredients: ${recipe.ingredients}</p>
			  <p>Instructions: ${recipe.instructions}</p>
			</div>
		  `).join('');
	
		  // Display the recipe previews in the recipes container
		  document.getElementById('recipes-container').innerHTML = recipePreviewsHTML;
		})
		.catch(error => console.error(error));
		</script>
</body>
</html>
